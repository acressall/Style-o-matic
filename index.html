<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Style-o-Matic</title>
  <style>
    @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Kaushan+Script|Lobster|Merriweather:300,700,900i|Open+Sans:300,700,800|Playfair+Display:400,700,900|Roboto:300,500,700,900|Spectral:300,500,800|Titillium+Web:300,700,900');
  </style>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <section id="intro">
    <div class="container">
      <h1>Style-o-Matic</h1>
      <p>Create a quick style guide with pre-vetted combinations for typography and colour palettes.</p>
      <button><a href="#typography">Get Started</a></button>
    </div>
  </section>

  <section id="typography">
    <div class="container">
      <h1>Typography</h1>
      <p>You can choose four sections of typography: first heading, second heading, third heading, and paragraphs. Click on a typeface and write some sample text before moving on to the next style.</p>
      <div id="slider">
        <div class="slide active-slide" id="first-heading">
          <h2>First Heading</h2>
          <p>These headings are typically used for page titles and should be the largest and most prominent of all your headings.</p>
          <div class="typefaces">
          </div>
          <input type="text" placeholder="Write some sample text"/>
          <button class="next-slide">Next Section</button>
        </div>
        <div class="slide" id="second-heading">
          <h2>Second Heading</h2>
          <p>These headings are typically used for subtitles.</p>
          <div class="typefaces">
          </div>
          <input type="text" placeholder="Write some sample text"/>
          <button class="next-slide">Next Section</button>
        </div>
        <div class="slide" id="third-heading">
          <h2>Third Heading</h2>
          <p>These headings can be used for subsections and block titles.</p>
          <div class="typefaces">
          </div>
          <input type="text" placeholder="Write some sample text"/>
          <button class="next-slide">Next Section</button>
        </div>
        <div class="slide" id="paragraphs">
          <h2>Paragraphs</h2>
          <p>This style will be used for paragraphs and all text that is not a heading, button, or link.</p>
          <div class="typefaces">
          </div>
          <input type="text" placeholder="Write some sample text"/>
          <button class="next-slide"><a href="#colours">Colours</a></button>
        </div>
      </div>
    </div>
  </section>

  <section id="colours">
    <div class="container">
      <h1>Colours</h1>
      <p>Create a colour palette by selecting a colour and dragging it into a colour block. If you change your mind, just drag a new colour on top of it.</p>
      <div class="colour-choice">
        <div id="colour-1" class="choice"></div>
        <div id="colour-2" class="choice"></div>
        <div id="colour-3" class="choice"></div>
        <div id="colour-4" class="choice"></div>
        <div id="colour-5" class="choice"></div>
      </div>
      <div class="colour-options">
      </div>
    </div>
  </section>

 <button id="finish"><a href="#guide-wrapper">Finish</a></button>  

  <section id="guide-wrapper" class="slide">
    <div class="container">
      <h1>Abra Cadabra!</h1>
      <div id="guide">
        <h1>This is what your first heading will look like</h1>
        <h2>Your second heading will look like this</h2>
        <h3>The third heading is this style.</h3>
        <p>Lastly, this is the style you chose for your paragraphs. Now you can see all your typography styles together.</p>
        <div class="colours"></div>
      </div>
    </div>
  </section>



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script>

  $(function() {
    // Question: is there any best practice for the _amount_ of variables you have?

    // Variables to hold the selected typefaces later
    var firstHeading = '';
    var secondHeading = '';
    var thirdHeading = '';
    var paragraphs = '';
    // Variables to hold the selected colours later
    var bgColour = '';
    var anyColour = '';
    var colourOne = '';
    var colourTwo = '';
    var colourThree = '';
    var colourFour = '';
    var colourFive = '';
    // All the typeface options
    var typefaces = {
      openSans: {
        name: 'Open Sans',
        type: 'sans-serif',
        styles: 10,
        className: 'open-sans',
        selection: null,
      },
      roboto: {
        name: 'Roboto',
        type: 'sans-serif',
        styles: 12,
        className: 'roboto',
        selection: null,
      },
      titillium: {
        name: 'Titillium',
        type: 'sans-serif',
        styles: 11,
        className: 'titillium',
        selection: null,
      },
      merriweather: {
        name: 'Merriweather',
        type: 'serif',
        styles: 8,
        className: 'merriweather',
        selection: null,
      },
      playfair: {
        name: 'Playfair',
        type: 'serif',
        styles: 6,
        className: 'playfair',
        selection: null,
      },
      spectral: {
        name: 'Spectral',
        type: 'serif',
        styles: 14,
        className: 'spectral',
        selection: null,
      },
      abril: {
        name: 'Abril FatFace',
        type: 'display',
        styles: 1,
        className: 'abril',
        selection: null,
      },
      lobster: {
        name:'Lobster',
        type: 'display',
        styles: 1,
        className: 'lobster',
        selection: null,
      },
      kaushan: {
        name: 'Kaushan',
        type: 'display',
        styles: 1,
        className: 'kaushan',
        selection: null,
      },
    }
    // All the colour options
    var colours = {
      reds: {
        dark: '#d3021c',
        medium: '#ea031f',
        light: '#f93a51',
      },
      oranges: {
        light: '#ff7b39',
        medium: '#fc5908',
        dark: '#f93a06',
      },
      yellows: {
        dark: '#fdb917',
        medium: '#ffcb05',
        light: '#ffdd00',
      },
      greens: {
        light: '#d0f44a',
        medium:'#a5d105',
        dark: '#90b204',
      },
      turquoise: {
        dark: '#0ec1c1',
        medium: '#17d3dd',
        light: '#38e6f9',
      },
      blues: {
        light: '#41d2f9',
        medium: '#0598e2',
        dark: '#057cce',
      },
      purples: {
        dark: '#6b1ad3',
        medium: '#8a2eed',
        light: '#b87af9',
      },
      pinks: {
        light: '#ea8fef',
        medium: '#e941f2',
        dark: '#cd05dd',
      },
    }

    // Selectors
    var headingOne = $('#first-heading');
    var headingTwo = $('#second-heading');
    var headingThree = $('#third-heading');
    var para = $('#paragraphs');
    var finalColour = $('#guide .colours');

    // Show typeface options within each type section
    for (var item in typefaces) {
      $('.typefaces').append(`<div class="typeface"><h2>${typefaces[item].name}</h2><p>${typefaces[item].styles}</p></div>`);
      // Add the className and type for each typeface
      $('.typeface').attr('class', typefaces[item].className).attr({
        'data-typeface': typefaces[item].className, 
        'data-typestyle': typefaces[item].type});
    }

    // When typeface selected, add .selected class, and remove it from the input
    $('.typefaces div').on('click', function() {
      var className = $(this).attr('class');
      $('.typefaces div').removeClass('selected');
      $(this).addClass('selected');
      // Remove all the class names from previous clicks
      // Add the typeface's className to the input
      $('input').removeAttr('class').addClass(className).removeClass('selected'); 
    });

    function findTypeface(type) {
      // Put the selected className in a variable
      var selectedType = $('#' + type + ' .selected').data('typeface');
      return selectedType;
    }

    function changeSelectionValue() {
      // Find the item in the array and change the selection value
      for (var item in typefaces) {
        if (typefaces[item].className === firstHeading) {
          typefaces[item].selection = 'first heading';
        } else if (typefaces[item].className === secondHeading) {
          typefaces[item].selection = 'second heading';
        } else if (typefaces[item].className === thirdHeading) {
          typefaces[item].selection = 'third heading';
        } else if (typefaces[item].className === paragraphs) {
          typefaces[item].selection = 'paragraphs';
        }
      }
    }

    function disableTypefaces() {
    // Check the type of typeface and disable clashing ones
      for (var item in typefaces) {
        var typeStyle = typefaces[item].type;  
        if (typeStyle === 'serif' && typefaces[item].selection === 'first heading' || typefaces[item].selection === 'second heading' || typefaces[item].selection === 'third heading') {
          headingTwo.find("[data-typestyle='" + 'display' + "']").addClass('disabled');
          headingThree.find("[data-typestyle='" + 'display' + "']").addClass('disabled');
        } else if (typeStyle === 'display' && typefaces[item].selection === 'first heading' || typefaces[item].selection === 'second heading' || typefaces[item].selection === 'third heading') {
          headingTwo.find("[data-typestyle='" + 'serif' + "']").addClass('disabled');
          headingThree.find("[data-typestyle='" + 'serif' + "']").addClass('disabled');
         } else if (typeStyle === 'display') {
          para.find("[data-typestyle='" + 'display' + "']").addClass('disabled');
        }
      }
    }


    // Switch to the next Type section when 'next section' button is clicked
    $('#first-heading .next-slide').on('click', function() {
      firstHeading = findTypeface('first-heading');
      changeSelectionValue();
      disableTypefaces();
      headingOne.removeClass('active-slide');
      headingTwo.addClass('active-slide');
    });
    $('#second-heading .next-slide').on('click', function() {
      secondHeading = findTypeface('second-heading');
      changeSelectionValue();
      disableTypefaces();
      headingTwo.removeClass('active-slide');
      headingThree.addClass('active-slide');
    });
    $('#third-heading .next-slide').on('click', function() {
      thirdHeading = findTypeface('third-heading');
      changeSelectionValue();
      disableTypefaces();
      headingThree.removeClass('active-slide');
      para.addClass('active-slide');
    });
    $('#paragraphs .next-slide').on('click', function() {
      paragraphs = findTypeface('paragraphs');
      changeSelectionValue();
      disableTypefaces();
    })
    
    // Display the colour options
    for (var item in colours) {
      var child = colours[item];
      for (var item in child) {
        $('.colour-options').append(`<div class="colour" style="background-color:${child[item]}"></div>`);
      }
    }

    function findColour(colour) {
      // Put the selected colour in a variable
      var selectedColour = $(colour).css('background-color');
      return selectedColour;
    }

    // Make a colour draggable
    $('.colour').draggable({
      cursor: 'move',
      snap: '.colour-choice',
      helper: 'clone',
      drag: function (event, ui) {
          $(this).addClass('dragging');
          bgColour = findColour(this);
      },
    });

    // Make it droppable
    $('.choice').droppable({
        over: function (event, ui) {
          bgColour = findColour();
          $(this).addClass('dragging');
        },
        out: function (event, ui) {
          $(this).removeClass('dragging');
        },
        drop: function (event, ui) {
          $('.colour').removeClass('dragging');
          $(this).removeClass('dragging').addClass('chosen').css('background', bgColour).attr('data-colour', bgColour);
        }
    });

    function selectedColour(choice) {
      // Store the selection in a vairable
      var chosenColour = $(choice).data('colour');
      return chosenColour;
    }

    // Make finished guide visible
    $('#finish').on('click', function() {
      $('#guide-wrapper').addClass('active-slide');
      // Add the typography class name in the guide
      $('#guide h1').addClass(firstHeading);
      $('#guide h2').addClass(secondHeading);
      $('#guide h3').addClass(thirdHeading);
      $('#guide p').addClass(paragraphs);
      // Add the colours, but only as many as are selected
      anyColour = selectedColour('.colour-choice div')
      colourOne =  selectedColour('#colour-1');
      colourTwo = selectedColour('#colour-2');
      colourThree = selectedColour('#colour-3');
      colourFour = selectedColour('#colour-4');
      colourFive = selectedColour('#colour-5')
      if (anyColour == colourOne || colourTwo || colourThree || colourFour || colourFive) {
        finalColour.append(`<div class="colour colour-one"></div>`)
        $('#guide .colour-one').css('background', colourOne);  
        finalColour.append(`<div class="colour colour-two"></div>`)
        $('#guide .colour-two').css('background', colourTwo); 
        finalColour.append(`<div class="colour colour-three"></div>`)
        $('#guide .colour-three').css('background', colourThree);  
        finalColour.append(`<div class="colour colour-four"></div>`)
        $('#guide .colour-four').css('background', colourFour); 
        finalColour.append(`<div class="colour colour-five"></div>`)
        $('#guide .colour-five').css('background', colourFive);    
      } 
    });
    
  });

  </script>

  </body>


</html>
